# =========================================
# User Service Environment Variables
# Service: user-service (Port: 8009)
# =========================================

# Service Configuration
MICROSERVICE_ENVIRONMENT=development
USER_SERVICE_PORT=8009
USER_SERVICE_DEBUG=false
USER_SERVICE_HOST=0.0.0.0

# CORS Configuration
CORS_ENABLED=true
CORS_ORIGINS=*

# Rate Limiting
RATE_LIMITING_ENABLED=true
RATE_LIMITING_REQUESTS_PER_MINUTE=1000

# User Management Configuration
USER_MGMT_MAX_USERS_PER_TENANT=10000
USER_MGMT_DEFAULT_ROLE=user

# Password Policy
USER_MGMT_PASSWORD_MIN_LENGTH=8
USER_MGMT_PASSWORD_REQUIRE_UPPERCASE=true
USER_MGMT_PASSWORD_REQUIRE_LOWERCASE=true
USER_MGMT_PASSWORD_REQUIRE_NUMBERS=true
USER_MGMT_PASSWORD_REQUIRE_SPECIAL_CHARS=false

# Project Management Configuration
PROJECT_MGMT_MAX_PROJECTS_PER_USER=100
PROJECT_MGMT_AI_FEATURES_ENABLED=true
PROJECT_MGMT_AUTO_ANALYSIS_ENABLED=true
PROJECT_MGMT_COLLABORATION_ENABLED=true
PROJECT_MGMT_VERSION_CONTROL_ENABLED=true
PROJECT_MGMT_COST_TRACKING_ENABLED=true
PROJECT_MGMT_ANALYTICS_ENABLED=true

# AI Workflows Configuration
AI_WORKFLOWS_MAX_CONCURRENT_WORKFLOWS=50
AI_WORKFLOWS_DEFAULT_TIMEOUT_SECONDS=3600
AI_WORKFLOWS_COST_TRACKING_ENABLED=true

# Caching Configuration
CACHING_USER_CACHE_TTL=3600
CACHING_PROFILE_CACHE_TTL=1800
CACHING_AI_PREFERENCES_CACHE_TTL=7200
CACHING_TEMPLATE_CACHE_TTL=7200
CACHING_EXECUTION_CACHE_TTL=3600
CACHING_ANALYTICS_CACHE_TTL=7200

# Collaboration Configuration
COLLABORATION_MAX_COLLABORATORS_PER_PROJECT=50
COLLABORATION_ROLES=owner,admin,contributor,viewer

# Authentication Configuration
JWT_SECRET=
JWT_EXPIRY_HOURS=24
REFRESH_TOKEN_EXPIRY_DAYS=30
ENABLE_2FA=false
SESSION_TIMEOUT_MINUTES=480

# Performance Configuration
PERFORMANCE_BULK_OPERATIONS_BATCH_SIZE=1000
PERFORMANCE_CONCURRENT_REQUESTS=100

# Monitoring Configuration
HEALTH_CHECK_INTERVAL=30
METRICS_ENABLED=true
PERFORMANCE_TRACKING_ENABLED=true
MONITORING_USER_ACTIVITY_TRACKING=true

# Database Configuration
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=user_service_db
DATABASE_USER=postgres
DATABASE_PASSWORD=

# Cache Configuration (Redis)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=6
REDIS_PASSWORD=

# Logging Configuration
LOG_LEVEL=INFO
LOG_FORMAT=json
ENABLE_USER_LOGGING=true
ENABLE_SECURITY_LOGGING=true

# Security Configuration
ENABLE_AUTHENTICATION=true
API_KEY_HEADER=X-API-Key
ALLOWED_IPS=
ENABLE_AUDIT_LOGGING=true
SECURITY_RATE_LIMITING=true
SECURITY_MAX_FAILED_LOGIN_ATTEMPTS=5
SECURITY_LOCKOUT_DURATION_MINUTES=30
SECURITY_PASSWORD_HISTORY_LENGTH=5
SECURITY_FORCE_PASSWORD_CHANGE_DAYS=90

# Service-to-Service Authentication Secrets
API_GATEWAY_SERVICE_SECRET=
DATABASE_SERVICE_SECRET=
AI_ORCHESTRATION_SERVICE_SECRET=
ML_PROCESSING_SERVICE_SECRET=
DEEP_LEARNING_SERVICE_SECRET=
TRADING_ENGINE_SERVICE_SECRET=
DATA_BRIDGE_SERVICE_SECRET=

# =========================================
# External AI Services Configuration
# =========================================

# OpenAI Configuration
OPENAI_API_KEY=
OPENAI_BASE_URL=https://api.openai.com/v1
OPENAI_MODEL=gpt-4
OPENAI_TIMEOUT_SECONDS=30

# Anthropic Configuration
ANTHROPIC_API_KEY=
ANTHROPIC_BASE_URL=https://api.anthropic.com
ANTHROPIC_MODEL=claude-3-sonnet-20240229
ANTHROPIC_TIMEOUT_SECONDS=30

# Google AI Configuration
GOOGLE_AI_API_KEY=
GOOGLE_PROJECT_ID=
GOOGLE_AI_TIMEOUT_SECONDS=30

# Handit AI Configuration
HANDIT_API_KEY=

# Langfuse Configuration
LANGFUSE_PUBLIC_KEY=
LANGFUSE_SECRET_KEY=

# =========================================
# Notification Services Configuration
# =========================================

# Email Notifications
NOTIFICATIONS_EMAIL_ENABLED=true
SMTP_HOST=
SMTP_PORT=587
SMTP_USERNAME=
SMTP_PASSWORD=
SMTP_USE_TLS=true
SMTP_FROM_ADDRESS=noreply@neliti.ai

# Slack Notifications
NOTIFICATIONS_SLACK_ENABLED=false
SLACK_WEBHOOK_URL=
SLACK_CHANNEL=#general

# Discord Notifications
NOTIFICATIONS_DISCORD_ENABLED=false
DISCORD_WEBHOOK_URL=

# =========================================
# Storage Configuration
# =========================================

# User Uploads
STORAGE_MAX_FILE_SIZE_MB=100
STORAGE_ALLOWED_EXTENSIONS=.jpg,.jpeg,.png,.pdf,.doc,.docx,.txt
STORAGE_USER_UPLOADS_PATH=/app/uploads/users

# Project Data
STORAGE_MAX_PROJECT_SIZE_MB=1000
STORAGE_PROJECT_DATA_PATH=/app/uploads/projects
STORAGE_BACKUP_ENABLED=true
STORAGE_BACKUP_RETENTION_DAYS=30

# AI Models Cache
STORAGE_AI_MODELS_CACHE_PATH=/app/cache/ai_models
STORAGE_AI_MODELS_MAX_CACHE_GB=10

# =========================================
# Analytics and Metrics Configuration
# =========================================

ANALYTICS_USER_BEHAVIOR_TRACKING=true
ANALYTICS_PERFORMANCE_METRICS=true
ANALYTICS_ERROR_TRACKING=true
ANALYTICS_CUSTOM_EVENTS=true
ANALYTICS_RETENTION_DAYS=90

# =========================================
# Third-party Integrations Configuration
# =========================================

# Google Workspace Integration
GOOGLE_WORKSPACE_ENABLED=false
GOOGLE_WORKSPACE_CLIENT_ID=
GOOGLE_WORKSPACE_CLIENT_SECRET=
GOOGLE_WORKSPACE_DOMAIN=

# Microsoft 365 Integration
MICROSOFT_365_ENABLED=false
MICROSOFT_365_CLIENT_ID=
MICROSOFT_365_CLIENT_SECRET=
MICROSOFT_365_TENANT_ID=

# GitHub Integration
GITHUB_INTEGRATION_ENABLED=false
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=
GITHUB_WEBHOOK_SECRET=

# GitLab Integration
GITLAB_INTEGRATION_ENABLED=false
GITLAB_CLIENT_ID=
GITLAB_CLIENT_SECRET=
GITLAB_INSTANCE_URL=https://gitlab.com

# =========================================
# Backup and Recovery Configuration
# =========================================

# Backup Settings
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE_LOCATION=s3
BACKUP_COMPRESSION_ENABLED=true

# S3 Backup Configuration
BACKUP_S3_BUCKET=
BACKUP_S3_REGION=us-east-1
BACKUP_S3_ACCESS_KEY=
BACKUP_S3_SECRET_KEY=
BACKUP_S3_ENCRYPTION=true

# =========================================
# Development Environment Variables
# (Only used when MICROSERVICE_ENVIRONMENT=development)
# =========================================

# Development Demo Values
DEV_DEFAULT_USER_ID=demo_user
DEV_DEFAULT_TENANT_ID=demo_tenant
DEV_DEFAULT_PERMISSIONS=user:read,project:read,workflow:read

# Development Service URLs
API_GATEWAY_URL=http://api-gateway:8000
DATABASE_SERVICE_URL=http://database-service:8008
CACHE_SERVICE_URL=http://redis:6379
AI_ORCHESTRATION_URL=http://ai-orchestration:8001
ML_PROCESSING_URL=http://ml-processing:8003
DEEP_LEARNING_URL=http://deep-learning:8004
TRADING_ENGINE_URL=http://trading-engine:8007
DATA_BRIDGE_URL=http://data-bridge:8006

# Development Cache Configuration
DRAGONFLYDB_URL=redis://dragonflydb:6379

# =========================================
# Environment-Specific Settings
# Note: Environment-specific overrides are handled in the YAML configuration
# The MICROSERVICE_ENVIRONMENT variable determines which section is used
# =========================================

# Development Environment Settings
# - debug: true
# - log_level: debug
# - enable_2fa: false
# - max_users_per_tenant: 1000

# Production Environment Settings
# - debug: false
# - log_level: info
# - enable_2fa: true
# - max_users_per_tenant: 10000

# Testing Environment Settings
# - debug: true
# - log_level: debug
# - enable_2fa: false
# - max_users_per_tenant: 100