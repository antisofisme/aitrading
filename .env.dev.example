# AI Trading Platform - Development Environment
# Phase 1: Infrastructure Migration with Zero-Trust Security

# ===========================================
# NODE ENVIRONMENT
# ===========================================
NODE_ENV=development
NODE_OPTIONS=--max-old-space-size=2048 --enable-source-maps

# ===========================================
# SECURITY CONFIGURATION
# ===========================================
# JWT Secrets (Generate new ones for production)
JWT_SECRET_DEV=your-dev-jwt-secret-here-minimum-32-chars
JWT_REFRESH_SECRET_DEV=your-dev-refresh-secret-here-minimum-32-chars
JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

# API Keys for external services
ENCRYPTION_KEY=your-32-char-encryption-key-here
SECURITY_SALT=your-security-salt-here

# ===========================================
# DATABASE CONFIGURATION
# ===========================================
# PostgreSQL - Primary Database
POSTGRES_DB=aitrading_dev
POSTGRES_USER=aitrading
POSTGRES_PASSWORD=secure-postgres-password-dev
POSTGRES_HOST=postgres-main
POSTGRES_PORT=5432
POSTGRES_SSL=false

# ClickHouse - Log Storage
CLICKHOUSE_DB=aitrading_logs
CLICKHOUSE_USER=aitrading
CLICKHOUSE_PASSWORD=secure-clickhouse-password-dev
CLICKHOUSE_HOST=clickhouse-logs
CLICKHOUSE_PORT=8123
CLICKHOUSE_SSL=false

# DragonflyDB - Cache
DRAGONFLY_PASSWORD=secure-dragonfly-password-dev
DRAGONFLY_HOST=dragonfly-cache
DRAGONFLY_PORT=6379
DRAGONFLY_DB=0

# Weaviate - Vector Database
WEAVIATE_API_KEY=secure-weaviate-key-dev
WEAVIATE_ADMIN_USER=admin
WEAVIATE_HOST=weaviate
WEAVIATE_PORT=8080
WEAVIATE_SCHEME=http

# ArangoDB - Graph Database
ARANGO_ROOT_PASSWORD=secure-arangodb-password-dev
ARANGO_DB=aitrading_graph
ARANGO_HOST=arangodb
ARANGO_PORT=8529
ARANGO_SSL=false

# ===========================================
# SERVICE CONFIGURATION
# ===========================================
# Central Hub
CENTRAL_HUB_PORT=8010
CENTRAL_HUB_HOST=0.0.0.0

# API Gateway
API_GATEWAY_PORT=8000
API_GATEWAY_HOST=0.0.0.0
CORS_ORIGIN=http://localhost:3000,https://localhost:3000

# Database Service
DATABASE_SERVICE_PORT=8008
DATABASE_SERVICE_HOST=0.0.0.0

# Data Bridge
DATA_BRIDGE_PORT=8001
DATA_BRIDGE_HOST=0.0.0.0

# Trading Engine
TRADING_ENGINE_PORT=8007
TRADING_ENGINE_HOST=0.0.0.0

# Security Monitor
SECURITY_MONITOR_PORT=8020
SECURITY_MONITOR_HOST=0.0.0.0

# Log Aggregator
LOG_AGGREGATOR_PORT=8030
LOG_AGGREGATOR_HOST=0.0.0.0

# ===========================================
# LOGGING CONFIGURATION
# ===========================================
LOG_LEVEL=DEBUG
LOG_FORMAT=combined
LOG_RETENTION_POLICY=development

# Optimized Log Retention Settings
HOT_STORAGE_DAYS=7
WARM_STORAGE_DAYS=30
COLD_STORAGE_DAYS=90
LOG_COMPRESSION_ENABLED=false
COST_TRACKING_ENABLED=true

# ===========================================
# SECURITY SETTINGS
# ===========================================
# Zero-Trust Configuration
SECURITY_MODE=zero-trust-dev
SECURITY_AUDIT_ENABLED=true
THREAT_DETECTION_ENABLED=true
RATE_LIMITING_ENABLED=true

# Rate Limiting
RATE_LIMIT_WINDOW=15
RATE_LIMIT_MAX=100
RATE_LIMIT_SKIP_FAILED_REQUESTS=true

# Session Security
SESSION_SECRET=your-session-secret-here
SESSION_TIMEOUT=3600
SECURE_COOKIES=false

# ===========================================
# MT5 INTEGRATION
# ===========================================
# Secure MT5 Configuration
MT5_CREDENTIAL_ENCRYPTION=true
MT5_CONNECTION_POOL_SIZE=5
MT5_HEARTBEAT_INTERVAL=30000
MT5_RECONNECT_INTERVAL=5000
MT5_MAX_RETRIES=3

# Signal Processing
SIGNAL_VALIDATION_ENABLED=true
SIGNAL_EXPIRY_MINUTES=5
SIGNAL_BATCH_SIZE=100

# ===========================================
# WEBSOCKET CONFIGURATION
# ===========================================
WEBSOCKET_SECURITY_ENABLED=true
WEBSOCKET_HEARTBEAT_INTERVAL=30000
WEBSOCKET_CONNECTION_TIMEOUT=60000
WEBSOCKET_MAX_CONNECTIONS=1000

# ===========================================
# SUBSCRIPTION & VALIDATION
# ===========================================
SUBSCRIPTION_VALIDATION_ENABLED=true
SUBSCRIPTION_CACHE_TTL=300
SUBSCRIPTION_RETRY_ATTEMPTS=3

# ===========================================
# PERFORMANCE SETTINGS
# ===========================================
# Database Performance
DB_POOL_SIZE=10
DB_TIMEOUT=30000
DB_RETRY_ATTEMPTS=3

# Cache Settings
CACHE_TTL=3600
CACHE_MAX_MEMORY=512MB

# ===========================================
# MONITORING & HEALTH CHECKS
# ===========================================
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10
HEALTH_CHECK_RETRIES=3

# Metrics Collection
METRICS_ENABLED=true
METRICS_INTERVAL=60
PERFORMANCE_MONITORING=true

# ===========================================
# SSL/TLS CONFIGURATION
# ===========================================
SSL_ENABLED=false
SSL_CERT_PATH=/app/certs/server.crt
SSL_KEY_PATH=/app/certs/server.key
SSL_CA_PATH=/app/certs/ca.crt

# ===========================================
# EXTERNAL SERVICES
# ===========================================
# Email Service (for alerts)
SMTP_HOST=localhost
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_SECURE=false

# Webhook URLs
SECURITY_ALERT_WEBHOOK=
SYSTEM_ALERT_WEBHOOK=

# ===========================================
# DEVELOPMENT TOOLS
# ===========================================
# Hot Reload
HOT_RELOAD_ENABLED=true
WATCH_FILES=true

# Debug Settings
DEBUG_MODE=true
VERBOSE_LOGGING=true
SOURCE_MAPS=true

# Development Ports (for direct access)
DEV_POSTGRES_PORT=5432
DEV_CLICKHOUSE_PORT=8123
DEV_DRAGONFLY_PORT=6379
DEV_WEAVIATE_PORT=8080
DEV_ARANGODB_PORT=8529